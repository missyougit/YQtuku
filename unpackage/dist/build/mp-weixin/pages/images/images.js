(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/images/images"],{"2a17":function(t,e,n){"use strict";(function(t){function n(t){return r(t)||i(t)||o(t)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"===typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return s(t)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u={data:function(){var t=getApp().globalData.baseUrl;return{baseUrl:t,pageCount:1,total:0,pageNo:1,pageSize:5,images:[],openId:"",avatarUrl:"../../static/images/head_portrait.jpg",likeImageSrc:"../../static/icons/dianzan.png",userAction:{thumbsUp:0,fenXiang:0,pingLun:0},x:0,y:0,x1:0,x2:0,y1:0,y2:0,move:{x:0,y:0}}},props:{damping:{type:Number,default:10},direction:{type:String,default:"all"},position:{type:Number,default:4}},mounted:function(){var e=this;t.getSystemInfo({success:function(t){e.x1=0,e.x2=parseInt(t.windowWidth)-50,e.y1=0,e.y2=parseInt(t.windowHeight)-20,setTimeout((function(){1!=e.position&&2!=e.position||(e.y=parseInt(.2*e.y2)),3!=e.position&&4!=e.position||(e.y=parseInt(.8*e.y2)),1!=e.position&&3!=e.position||(e.x=parseInt(e.x1)),2!=e.position&&4!=e.position||(e.x=parseInt(e.x2)),e.move.x=e.x,e.move.y=e.y}),100)}})},onLoad:function(){var t=this.baseUrl+"/image/list?pageNo="+this.pageNo+"&pageSize="+this.pageSize;this.getImages(t)},onShareAppMessage:function(t){if("button"===t.from){var e=t.target.dataset,n=e.image,a=e.title;return{title:a,path:n,imageUrl:n}}if("menu"===t.from)return{title:"YQ图库-你值得拥有",path:"/pages/images/images"}},onShareTimeline:function(t){return{title:"YQ图库-你值得拥有",path:"/pages/images/images"}},onShow:function(){var e=this;if(this.openId=t.getStorageSync("openId"),""!=this.openId){var n=this.baseUrl+"/user/userInfo?openId="+this.openId;t.request({url:n,success:function(t){var n=t.data.result;e.avatarUrl=n.avatarUrl}})}},onPullDownRefresh:function(){if(this.toLogon()){this.pageNo=1;var e=this.baseUrl+"/image/list?pageNo="+this.pageNo+"&pageSize="+this.pageSize;this.getImages(e),t.stopPullDownRefresh()}},onReachBottom:function(){if(this.toLogon()&&this.pageNo<=this.pageCount){var t=this.baseUrl+"/image/list?pageNo="+this.pageNo+"&pageSize="+this.pageSize;this.getImages(t)}},methods:{to_image_details:function(e){t.navigateTo({url:"./image_details",success:function(t){t.eventChannel.emit("acceptDataFromOpenerPage",e)}})},getImages:function(e){var a=this;t.request({url:e,success:function(e){var o=e.data,i=o.status,r=o.message,s=o.result;200==i?(a.pageCount=s.pageCount,a.total=s.total,1==a.pageNo?a.images=s.tukuList:a.images=[].concat(n(a.images),n(s.tukuList)),a.pageNo++):t.showToast({title:r,duration:1e3,icon:"none"})}})},previewImage:function(e,n){t.previewImage({current:e,urls:n})},toLogon:function(){return""!=this.openId||(t.navigateTo({url:"../logon/logon"}),!1)},toUserPage:function(){this.toLogon()&&t.navigateTo({url:"../user/user"})},onChange:function(t){"touch"===t.detail.source&&(this.move.x=t.detail.x,this.move.y=t.detail.y)},onTouchend:function(){var t=this;this.x=this.move.x,this.y=this.move.y,setTimeout((function(){t.move.x<t.x2/2?t.x=t.x1:t.x=t.x2,console.log(t.x,t.y)}),50)}}};e.default=u}).call(this,n("543d")["default"])},"37d8":function(t,e,n){"use strict";var a;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},i=[]},4282:function(t,e,n){},"4db7":function(t,e,n){"use strict";(function(t){n("79b4");a(n("66fd"));var e=a(n("fabd"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"7a52":function(t,e,n){"use strict";n.r(e);var a=n("2a17"),o=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},d422:function(t,e,n){"use strict";var a=n("4282"),o=n.n(a);o.a},fabd:function(t,e,n){"use strict";n.r(e);var a=n("37d8"),o=n("7a52");for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("d422");var r,s=n("f0c5"),u=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=u.exports}},[["4db7","common/runtime","common/vendor"]]]);